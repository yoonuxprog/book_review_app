{%extends "layout.html"%}
{% block title %}
    Search
{% endblock %}

{% block body %}
    <h2>Search</h2>
    <br>
    
    <form action="{{ url_for('search') }}" method="post">

        <div class="form-group">
            <input class="form-control" name="search" placeholder="Search">
        </div>

        <div class="form-group">
            <button class="btn btn-primary">Find</button>
        </div>
    </form>
    
    {% if error %}
        <p class="error"><strong>Error:</strong> {{ error }}
    {% endif %}

    <table>
        {% if books %}
            <tr>
                <th>ISBN</th>
                <th>Title</th>
                <th>Author</th>
                <th>Year</th>
            </tr>
            {% for book in books %}
                <tr>
                    <td>{{ book.isbn }}</td>
                    <td>
                        <a href="{{ url_for('book', book_id=book.book_id) }}">
                        {{ book.title }}
                        </a>
                    </td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.year }}</td>
                </tr>
            {% endfor %}
        {% endif %}
    </table>
{% endblock %}